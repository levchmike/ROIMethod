# ROIMethod

![](https://img.shields.io/badge/version-1.1-red) 
![](https://img.shields.io/badge/alpha-1.0-yellow) 
![](https://img.shields.io/bower/v/editor.md.svg)

## Описание проекта
Основная идея - создать демо-проект для демонстрации работы с потоком метрик. Подготовить начальную архитектуру WEB API.

Подключить Google Big Query (как альтернатива Spark, но более сложная интеграция с Amazon AWS) + обработка некоторого массива сырых данных из Яндекс.Директа

В идеале, составить отчет по анализу платных каналов в BQ, затем интегрировать в данный демо-проект.

## Технологии + архитектура
Здесь я опишу свое видение технической реализации проекта (web api + клиентское приложение). Выбор применяемых технологий - *сугубо субъективен*

- WEB API ASP.NET CORE
- ORM Entity Framework
- Angular 9+ CLI 9.1
- Local db (MSSQL / PostgreSQL)

Было принято решение следовать классической **clean архитектуре**, придерживаться REST-стиля API.

p.s. не использовал Docker

Проект состоит из 4 модулей. Планируется (*2 модуля с функциональным и unit-тестированием*)
- **ROIMethod.DataInfrastructure**
- **ROIMethod.DataConnectionTemplates**
- **ROIMethod.WebAPI.Core**
- **ROIMethod**

**Основная идея** - не использовать конкретную реализацию подключения к хранилищу напрямую, а взаимодействовать с хранилищем через слой абстракций, учитывая что ASP.NET CORE дает прекрасную возможность посредством встроенного DI

В проекте **ROIMethod.DataInfrastructure** реализуем паттерны проектирования Единица работы (UOW) + Репозиторий. Соотвественно, создаем единственную точку доступа к хранилищу данных в рамках одного запроса.

Проект **ROIMethod.DataConnectionTemplates** был создан для хранения шаблонов реализации взаимодействия с хранилищем. На данный момент - MSSQL + PostgreSQL

**ROIMethod.WebAPI.Core** создан для описания кейсов, взаимодействия с нижнем уровнем DataTemplate, описания DTO-объектов и основной бизнес-логики

Непосредственно, **ROIMethod** содержит frontend + api методы, также зарегистрированы сервисы + DI. 

*Так или иначе, best practice советуют разделять Frontend (в моем случае Angular) и серверную часть, чтобы абстрагироваться от рабочего окружения (Visual Studio).*

**Big Query сервис** - взаимодействие сервера с Google Cloud Platform. Реализован сервис **DataBQService** на уровне **WebAPI.Core**

### Big Query проект ROIMethod
![](https://i.ibb.co/MBSbJyy/bigquerysc.png)

### Загрузка данных с BQ
![](https://i.ibb.co/k8cstC0/bq.png)

### Скрин веб-приложения

![](https://i.ibb.co/bBRHw09/mainscreen.png)

